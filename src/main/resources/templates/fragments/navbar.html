<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Navigation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Andada+Pro:wght@500&family=IM+Fell+English+SC&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link th:href="@{/css/navbar.css}" rel="stylesheet" media="screen" />
    <script src="../static/javascript/navbar.js"></script>
</head>


<body id="body">
    <div id="bodyDiv">

    </div>

    <nav th:fragment="navbar">
        <p hidden id="loginSuccessful" th:text="${loginSuccessful}"></p>
        <div class="logo">
            <a href="/homepage">
                <h4 id="logo">UCanoeIt</h4>
            </a>
        </div>
        <ul class="nav-links">

            <a href="/homepage">
                <li>Home</li>
            </a>
            <a href="/logout">
                <li id="loginStatus">Logout</li>
            </a>
            <a href="/cart">
                <li>Cart</li>
            </a>
        </ul>
        <div class="burger">
            <div class="line1"></div>
            <div class="line2"></div>
            <div class="line3"></div>
        </div>
    </nav>
    <script>
        const navSlide = () => {
            const burger = document.querySelector('.burger');
            const nav = document.querySelector('.nav-links');
            const navLinks = document.querySelectorAll('.nav-links li');

            //toggle view
            burger.addEventListener('click', () => {
                nav.classList.toggle('nav-active');
                //animate Links
                navLinks.forEach((link, index) => {
                    if (link.style.animation) {
                        link.style.animation = '';
                    } else {
                        link.style.animation = `navLinkFade 0.5s ease forwards ${index / 7 + 1.5}s`;
                    }
                });

                //burger animation
                burger.classList.toggle('toggle');
            });
        }

        const loginSuccessful = document.getElementById('loginSuccessful');
        const loginStatus = document.getElementById('loginStatus');

        const body = document.getElementById('body');

        if (loginSuccessful.innerText === 'true') {
            loginStatus.innerText = 'Logout';
        }
        if (loginSuccessful.innerText === 'false') {
            loginStatus.innerText = 'Login';
        }


        navSlide();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous">
        </script>
</body>

</html>